to   = to) %>%
group_by(symbol) %>%
tq_transmute(select     = adjusted,
mutate_fun = periodReturn,
period     = period,
type       = "log",
col_rename = "Ra")),
(index %>%
tq_get(get  = "stock.prices",
from = from,
to   = to) %>%
tq_transmute(select     = adjusted,
mutate_fun = periodReturn,
period     = period,
type       = "log",
col_rename = "Rb")),
by = c("date" = "date")),
Ra = Ra,
Rb = Rb,
performance_fun = CAPM.beta)
return(capm_beta)
}
beta(symbol="FLIR","MU",index="SPY",from="2013-10-19",to="2018-10-18",period="monthly")
beta(symbol="FLIR,MU",index="SPY",from="2013-10-19",to="2018-10-18",period="monthly")
beta(symbol=""FLIR"","MU"",index="SPY",from="2013-10-19",to="2018-10-18",period="monthly")
beta(symbol=""FLIR"","MU"",index="SPY",from="2013-10-19",to="2018-10-18",period="monthly")
beta(symbol="FLIR",index="SPY",from="2013-10-19",to="2018-10-18",period="monthly")
beta(symbol="FLIR",index="SPY",from="2013-10-19",to="2018-10-18",period="monthly")
tq_performance(data = left_join((symbol %>%
tq_get(get  = "stock.prices",
from = from,
to   = to) %>%
tq_transmute(select     = adjusted,
mutate_fun = periodReturn,
period     = period,
type       = "log",
col_rename = "Ra")),
(index %>%
tq_get(get  = "stock.prices",
from = from,
to   = to) %>%
tq_transmute(select     = adjusted,
mutate_fun = periodReturn,
period     = period,
type       = "log",
col_rename = "Rb")),
by = c("date" = "date")),
Ra = Ra,
Rb = Rb,
performance_fun = CAPM.beta)
symbol=c("FLIR")
tq_performance(data = left_join((symbol %>%
tq_get(get  = "stock.prices",
from = from,
to   = to) %>%
tq_transmute(select     = adjusted,
mutate_fun = periodReturn,
period     = period,
type       = "log",
col_rename = "Ra")),
(index %>%
tq_get(get  = "stock.prices",
from = from,
to   = to) %>%
tq_transmute(select     = adjusted,
mutate_fun = periodReturn,
period     = period,
type       = "log",
col_rename = "Rb")),
by = c("date" = "date")),
Ra = Ra,
Rb = Rb,
performance_fun = CAPM.beta)
###
beta <- function(symbol,index,from,to,period) {
capm_beta <- tq_performance(data = left_join((symbol %>%
tq_get(get  = "stock.prices",
from = from,
to   = to) %>%
tq_transmute(select     = adjusted,
mutate_fun = periodReturn,
period     = period,
type       = "log",
col_rename = "Ra")),
(index %>%
tq_get(get  = "stock.prices",
from = from,
to   = to) %>%
tq_transmute(select     = adjusted,
mutate_fun = periodReturn,
period     = period,
type       = "log",
col_rename = "Rb")),
by = c("date" = "date")),
Ra = Ra,
Rb = Rb,
performance_fun = CAPM.beta)
return(capm_beta)
}
beta(symbol="FLIR",index="SPY",from="2013-10-19",to="2018-10-18",period="monthly")
beta(symbol="MU",index="SPY",from="2013-10-19",to="2018-10-18",period="monthly")
tq_performance(data = left_join((symbol %>%
tq_get(get  = "stock.prices",
from = from,
to   = to) %>%
tq_transmute(select     = adjusted,
mutate_fun = periodReturn,
period     = period,
type       = "log",
col_rename = "Ra")),
(index %>%
tq_get(get  = "stock.prices",
from = from,
to   = to) %>%
tq_transmute(select     = adjusted,
mutate_fun = periodReturn,
period     = period,
type       = "log",
col_rename = "Rb")),
by = c("date" = "date")),
Ra = Ra,
Rb = Rb,
performance_fun = CAPM.beta)
tq_performance(data = left_join((symbol %>%
tq_get(get  = "stock.prices",
from = from,
to   = to) %>%
tq_transmute(select     = adjusted,
mutate_fun = periodReturn,
period     = period,
type       = "log",
col_rename = "Ra")),
(index %>%
tq_get(get  = "stock.prices",
from = from,
to   = to) %>%
tq_transmute(select     = adjusted,
mutate_fun = periodReturn,
period     = period,
type       = "log",
col_rename = "Rb")),
by = c("date" = "date")),
Ra = Ra,
Rb = Rb,
performance_fun = CAPM.beta,
col_rename = "test")
rename((tq_performance(data = left_join((symbol %>%
tq_get(get  = "stock.prices",
from = from,
to   = to) %>%
tq_transmute(select     = adjusted,
mutate_fun = periodReturn,
period     = period,
type       = "log",
col_rename = "Ra")),
(index %>%
tq_get(get  = "stock.prices",
from = from,
to   = to) %>%
tq_transmute(select     = adjusted,
mutate_fun = periodReturn,
period     = period,
type       = "log",
col_rename = "Rb")),
by = c("date" = "date")),
Ra = Ra,
Rb = Rb,
performance_fun = CAPM.beta,
col_rename = "test")), CAPM.beta.1="Beta")
performance_fun = CAPM.beta), CAPM.beta.1="Beta")
rename((tq_performance(data = left_join((symbol %>%
tq_get(get  = "stock.prices",
from = from,
to   = to) %>%
tq_transmute(select     = adjusted,
mutate_fun = periodReturn,
period     = period,
type       = "log",
col_rename = "Ra")),
(index %>%
tq_get(get  = "stock.prices",
from = from,
to   = to) %>%
tq_transmute(select     = adjusted,
mutate_fun = periodReturn,
period     = period,
type       = "log",
col_rename = "Rb")),
by = c("date" = "date")),
Ra = Ra,
Rb = Rb,
performance_fun = CAPM.beta)), CAPM.beta.1="Beta")
rename((tq_performance(data = left_join((symbol %>%
tq_get(get  = "stock.prices",
from = from,
to   = to) %>%
tq_transmute(select     = adjusted,
mutate_fun = periodReturn,
period     = period,
type       = "log",
col_rename = "Ra")),
(index %>%
tq_get(get  = "stock.prices",
from = from,
to   = to) %>%
tq_transmute(select     = adjusted,
mutate_fun = periodReturn,
period     = period,
type       = "log",
col_rename = "Rb")),
by = c("date" = "date")),
Ra = Ra,
Rb = Rb,
performance_fun = CAPM.beta)), CAPM.beta.1= 'beta')
rename((tq_performance(data = left_join((symbol %>%
tq_get(get  = "stock.prices",
from = from,
to   = to) %>%
tq_transmute(select     = adjusted,
mutate_fun = periodReturn,
period     = period,
type       = "log",
col_rename = "Ra")),
(index %>%
tq_get(get  = "stock.prices",
from = from,
to   = to) %>%
tq_transmute(select     = adjusted,
mutate_fun = periodReturn,
period     = period,
type       = "log",
col_rename = "Rb")),
by = c("date" = "date")),
Ra = Ra,
Rb = Rb,
performance_fun = CAPM.beta)), beta  = CAPM.beta)
rename((tq_performance(data = left_join((symbol %>%
tq_get(get  = "stock.prices",
from = from,
to   = to) %>%
tq_transmute(select     = adjusted,
mutate_fun = periodReturn,
period     = period,
type       = "log",
col_rename = "Ra")),
(index %>%
tq_get(get  = "stock.prices",
from = from,
to   = to) %>%
tq_transmute(select     = adjusted,
mutate_fun = periodReturn,
period     = period,
type       = "log",
col_rename = "Rb")),
by = c("date" = "date")),
Ra = Ra,
Rb = Rb,
performance_fun = CAPM.beta)), beta  = CAPM.beta)
rename((tq_performance(data = left_join((symbol %>%
tq_get(get  = "stock.prices",
from = from,
to   = to) %>%
tq_transmute(select     = adjusted,
mutate_fun = periodReturn,
period     = period,
type       = "log",
col_rename = "Ra")),
(index %>%
tq_get(get  = "stock.prices",
from = from,
to   = to) %>%
tq_transmute(select     = adjusted,
mutate_fun = periodReturn,
period     = period,
type       = "log",
col_rename = "Rb")),
by = c("date" = "date")),
Ra = Ra,
Rb = Rb,
performance_fun = CAPM.beta)), beta  = 'CAPM.beta')
rename((tq_performance(data = left_join((symbol %>%
tq_get(get  = "stock.prices",
from = from,
to   = to) %>%
tq_transmute(select     = adjusted,
mutate_fun = periodReturn,
period     = period,
type       = "log",
col_rename = "Ra")),
(index %>%
tq_get(get  = "stock.prices",
from = from,
to   = to) %>%
tq_transmute(select     = adjusted,
mutate_fun = periodReturn,
period     = period,
type       = "log",
col_rename = "Rb")),
by = c("date" = "date")),
Ra = Ra,
Rb = Rb,
performance_fun = CAPM.beta)), beta  = 'CAPM.Beta.1')
rename((tq_performance(data = left_join((symbol %>%
tq_get(get  = "stock.prices",
from = from,
to   = to) %>%
tq_transmute(select     = adjusted,
mutate_fun = periodReturn,
period     = period,
type       = "log",
col_rename = "Ra")),
(index %>%
tq_get(get  = "stock.prices",
from = from,
to   = to) %>%
tq_transmute(select     = adjusted,
mutate_fun = periodReturn,
period     = period,
type       = "log",
col_rename = "Rb")),
by = c("date" = "date")),
Ra = Ra,
Rb = Rb,
performance_fun = CAPM.beta)), beta  = 'CAPM.beta.1')
###
beta <- function(symbol,index,from,to,period) {
capm_beta <- rename((tq_performance(data = left_join((symbol %>%
tq_get(get  = "stock.prices",
from = from,
to   = to) %>%
tq_transmute(select     = adjusted,
mutate_fun = periodReturn,
period     = period,
type       = "log",
col_rename = "Ra")),
(index %>%
tq_get(get  = "stock.prices",
from = from,
to   = to) %>%
tq_transmute(select     = adjusted,
mutate_fun = periodReturn,
period     = period,
type       = "log",
col_rename = "Rb")),
by = c("date" = "date")),
Ra = Ra,
Rb = Rb,
performance_fun = CAPM.beta)), Beta = 'CAPM.beta.1')
return(capm_beta)
}
beta(symbol="MU",index="SPY",from="2013-10-19",to="2018-10-18",period="monthly")
###
beta <- function(symbol,index,from,to,period) {
capm_beta <- rename((tq_performance(data = left_join((symbol %>%
tq_get(get  = "stock.prices",
from = from,
to   = to) %>%
tq_transmute(select     = adjusted,
mutate_fun = periodReturn,
period     = period,
type       = "log",
col_rename = "Ra")),
(index %>%
tq_get(get  = "stock.prices",
from = from,
to   = to) %>%
tq_transmute(select     = adjusted,
mutate_fun = periodReturn,
period     = period,
type       = "log",
col_rename = "Rb")),
by = c("date" = "date")),
Ra = Ra,
Rb = Rb,
performance_fun = CAPM.beta)), Beta = 'CAPM.beta.1')
return(capm_beta)
}
beta(symbol="MU",index="SPY",from="2013-10-19",to="2018-10-18",period="monthly")
library(tidyquant)
beta <- function(symbol,index,from,to,period) {
capm_beta <- rename((tq_performance(data = left_join((symbol %>%
tq_get(get  = "stock.prices",
from = from,
to   = to) %>%
tq_transmute(select     = adjusted,
mutate_fun = periodReturn,
period     = period,
type       = "log",
col_rename = "Ra")),
(index %>%
tq_get(get  = "stock.prices",
from = from,
to   = to) %>%
tq_transmute(select     = adjusted,
mutate_fun = periodReturn,
period     = period,
type       = "log",
col_rename = "Rb")),
by = c("date" = "date")),
Ra = Ra,
Rb = Rb,
performance_fun = CAPM.beta)), Beta = 'CAPM.beta.1')
return(capm_beta)
}
beta(symbol="FLIR",index="SPY",from="2015-10-19",to="2018-10-18",period="weekly")
beta(symbol="FLIR",index="SPY",from="2013-10-19",to="2018-10-18",period="weekly")
beta(symbol="FLIR",index="SPY",from="2013-10-19",to="2018-10-18",period="monthly")
symbol=c("FLIR")
index=c("SPY")
from=c("2013-10-19")
to=c("2018-10-18")
period=c("monthly")
tq_performance(data = left_join((symbol %>%
tq_get(get  = "stock.prices",
from = from,
to   = to) %>%
tq_transmute(select     = adjusted,
mutate_fun = periodReturn,
period     = period,
type       = "log",
col_rename = "Ra")),
(index %>%
tq_get(get  = "stock.prices",
from = from,
to   = to) %>%
tq_transmute(select     = adjusted,
mutate_fun = periodReturn,
period     = period,
type       = "log",
col_rename = "Rb")),
by = c("date" = "date")),
Ra = Ra,
Rb = Rb,
performance_fun = CAPM.beta)
tq_performance(data = left_join((
tq_get(symbol,
get  = "stock.prices",
from = from,
to   = to) %>%
tq_transmute(select     = adjusted,
mutate_fun = periodReturn,
period     = period,
type       = "log",
col_rename = "Ra")),
(index %>%
tq_get(get  = "stock.prices",
from = from,
to   = to) %>%
tq_transmute(select     = adjusted,
mutate_fun = periodReturn,
period     = period,
type       = "log",
col_rename = "Rb")),
by = c("date" = "date")),
Ra = Ra,
Rb = Rb,
performance_fun = CAPM.beta)
tq_performance(data = left_join((
tq_get(symbol,
get  = "stock.prices",
from = from,
to   = to) %>%
tq_transmute(select     = adjusted,
mutate_fun = periodReturn,
period     = period,
type       = "log",
col_rename = "Ra")),
(
tq_get(index,
get  = "stock.prices",
from = from,
to   = to) %>%
tq_transmute(select     = adjusted,
mutate_fun = periodReturn,
period     = period,
type       = "log",
col_rename = "Rb")),
by = c("date" = "date")),
Ra = Ra,
Rb = Rb,
performance_fun = CAPM.beta)
beta <- function(symbol,index,from,to,period) {
capm_beta <- rename((tq_performance(data = left_join((tq_get(symbol,
get  = "stock.prices",
from = from,
to   = to) %>%
tq_transmute(select     = adjusted,
mutate_fun = periodReturn,
period     = period,
type       = "log",
col_rename = "Ra")),
(tq_get(index,
get  = "stock.prices",
from = from,
to   = to) %>%
tq_transmute(select     = adjusted,
mutate_fun = periodReturn,
period     = period,
type       = "log",
col_rename = "Rb")),
by = c("date" = "date")),
Ra = Ra,
Rb = Rb,
performance_fun = CAPM.beta)), Beta = 'CAPM.beta.1')
return(capm_beta)
}
beta(symbol="FLIR",index="SPY",from="2013-10-19",to="2018-10-18",period="monthly")
source('~/Git/equities/beta.R', echo=TRUE)
beta(symbol="FLIR",index="SPY",from="2013-10-19",to="2018-10-18",period="monthly")
beta(symbol="MU",index="SPY",from="2013-10-19",to="2018-10-18",period="weekly")
beta(symbol="MU",index="SPY",from="2013-10-27",to="2018-10-26",period="weekly")
beta(symbol="FLIR",index="SPY",from="2013-10-27",to="2018-10-26",period="weekly")
